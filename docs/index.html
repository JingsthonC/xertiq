<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="XertiQ - Blockchain-Secured Document Verification Widget Demo"
    />
    <title>XertiQ Verification Widget - Third-Party Integration Demo</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: linear-gradient(135deg, #4a48c4 0%, #3d2d7a 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 40px;
        padding: 40px 20px;
      }

      .header h1 {
        font-size: 3rem;
        margin-bottom: 15px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      .header .badge {
        display: inline-block;
        background: rgba(255, 255, 255, 0.2);
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.9rem;
        margin-top: 10px;
      }

      .info-banner {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 30px;
        color: #856404;
      }

      .info-banner h3 {
        margin-bottom: 10px;
      }

      .info-banner code {
        background: rgba(0, 0, 0, 0.1);
        padding: 2px 6px;
        border-radius: 3px;
        font-family: monospace;
      }

      .widget-section {
        background: white;
        border-radius: 16px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .widget-section h2 {
        color: #4a48c4;
        margin-bottom: 20px;
        font-size: 1.8rem;
      }

      .code-block {
        background: #2d2d2d;
        color: #f8f8f2;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 20px 0;
        font-family: "Monaco", "Menlo", monospace;
        font-size: 0.9rem;
        line-height: 1.6;
        position: relative;
      }

      .copy-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #4a48c4;
        color: white;
        border: none;
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;
      }

      .copy-btn:hover {
        background: #3d2d7a;
      }

      .architecture {
        background: rgba(74, 72, 196, 0.1);
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
      }

      .architecture h3 {
        color: #4a48c4;
        margin-bottom: 15px;
      }

      .architecture ul {
        list-style: none;
        padding-left: 0;
      }

      .architecture li {
        padding: 10px;
        margin: 5px 0;
        background: white;
        border-radius: 4px;
        border-left: 3px solid #00e5ff;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 2rem;
        }
        .widget-section {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <div style="margin-bottom: 15px">
          <img
            src="./xertiq_logo.png"
            alt="XertiQ"
            style="height: 60px; width: auto"
          />
        </div>
        <h1>XertiQ Verification Widget</h1>
        <p style="font-size: 1.2rem; margin: 10px 0">
          Third-Party Integration Demo
        </p>
        <div class="badge">
          üìç This page hosted on GitHub Pages<br />
          üîó Widget loaded from Vercel
        </div>
      </div>

      <!-- Architecture Info -->
      <div class="widget-section">
        <div class="architecture">
          <h3>üèóÔ∏è Architecture Setup:</h3>
          <ul>
            <li>
              <strong>GitHub Pages:</strong> This demo page (simulates
              third-party website)
            </li>
            <li><strong>Vercel:</strong> Widget script + Backend API</li>
            <li>
              <strong>Integration:</strong> GitHub Pages loads widget from
              Vercel URL
            </li>
          </ul>
        </div>
      </div>

      <!-- Important Notice -->
      <div class="widget-section">
        <div class="info-banner">
          <h3>‚ö†Ô∏è Setup Required:</h3>
          <p><strong>Before the widget works, you need to:</strong></p>
          <ol style="margin: 15px 0 0 20px; line-height: 1.8">
            <li>Deploy your backend to Vercel</li>
            <li>
              Update <code>VERCEL_WIDGET_URL</code> below with your Vercel URL
            </li>
            <li>Make sure CORS allows GitHub Pages origin</li>
          </ol>
        </div>
      </div>

      <!-- Live Demo -->
      <div class="widget-section">
        <h2>üì∫ Live Demo</h2>
        <p style="color: #666; margin-bottom: 20px">
          This demonstrates how a third-party website would embed your widget:
        </p>

        <div style="background: #f8f9fa; padding: 20px; border-radius: 12px">
          <!-- XertiQ Widget Container -->
          <div id="xertiq-verify-widget"></div>
        </div>
      </div>

      <!-- Integration Code -->
      <div class="widget-section">
        <h2>üíª Integration Code</h2>

        <!-- Clear Instructions -->
        <div
          style="
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px;
          "
        >
          <h3 style="color: #1976d2; margin-bottom: 15px; font-size: 1.1rem">
            üìã What You Need:
          </h3>
          <div style="color: #555; line-height: 1.8">
            <p style="margin-bottom: 10px">
              <strong>1. Document ID (required)</strong>
            </p>
            <ul style="margin-left: 25px; margin-bottom: 15px">
              <li>
                Example:
                <code
                  style="
                    background: white;
                    padding: 2px 6px;
                    border-radius: 3px;
                  "
                  >cert_certificate_Jingsthon_Castillo_1_1768806919897_91ygb2d3eu</code
                >
              </li>
              <li>Get this from the backend when you create a certificate</li>
            </ul>

            <p style="margin-bottom: 10px">
              <strong>2. Verification Key (optional but recommended)</strong>
            </p>
            <ul style="margin-left: 25px; margin-bottom: 15px">
              <li>
                Example:
                <code
                  style="
                    background: white;
                    padding: 2px 6px;
                    border-radius: 3px;
                  "
                  >9683ee2a988bd1519efadd6b0d4792091a64c5ae0a78b4a214274a4a31a21239</code
                >
              </li>
              <li>Get this from the backend when you create a certificate</li>
              <li>Required for protected/private documents</li>
              <li>Skip this if your document is public</li>
            </ul>

            <p style="margin-bottom: 10px">
              <strong>3. Widget Script URL</strong>
            </p>
            <ul style="margin-left: 25px">
              <li>
                Use:
                <code
                  style="
                    background: white;
                    padding: 2px 6px;
                    border-radius: 3px;
                  "
                  >https://xertiq-frontend.vercel.app/embed-widget.js</code
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Option 1: Manual Search Form -->
        <h3 style="color: #4a48c4; margin-bottom: 15px">
          üìù Option 1: Search Form (Let Users Enter Their ID)
        </h3>
        <p style="color: #666; margin-bottom: 15px; font-size: 0.95rem">
          Use this if you want users to manually enter their document ID and
          key:
        </p>
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <code
            >&lt;!-- Just add this - widget shows search form --&gt; &lt;div
            id="xertiq-verify-widget"&gt;&lt;/div&gt; &lt;script
            src="https://xertiq-frontend.vercel.app/embed-widget.js"&gt;&lt;/script&gt;</code
          >
        </div>

        <!-- Option 2: Auto-Verify -->
        <h3 style="margin-top: 30px; color: #4a48c4; margin-bottom: 15px">
          üéØ Option 2: Auto-Verify (Show Specific Certificate)
        </h3>
        <p style="color: #666; margin-bottom: 15px; font-size: 0.95rem">
          Use this to automatically verify and display a specific certificate:
        </p>
        <div
          style="
            background: #fff3cd;
            border: 2px dashed #ffc107;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
          "
        >
          <p style="color: #856404; font-weight: bold; margin-bottom: 10px">
            ‚ö†Ô∏è Replace These Values:
          </p>
          <ul style="color: #856404; margin-left: 25px; line-height: 1.8">
            <li>
              <code
                style="background: white; padding: 2px 6px; border-radius: 3px"
                >YOUR_DOCUMENT_ID_HERE</code
              >
              ‚Üê Paste your actual document ID here
            </li>
            <li>
              <code
                style="background: white; padding: 2px 6px; border-radius: 3px"
                >YOUR_VERIFICATION_KEY_HERE</code
              >
              ‚Üê Paste your verification key here
            </li>
            <li>
              Or remove
              <code
                style="background: white; padding: 2px 6px; border-radius: 3px"
                >data-key</code
              >
              line if document is public
            </li>
          </ul>
        </div>
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <code
            >&lt;!-- Copy this and replace YOUR_DOCUMENT_ID_HERE and
            YOUR_VERIFICATION_KEY_HERE --&gt; &lt;div id="xertiq-verify-widget"
            data-doc="<span style="background: #ffeb3b; color: #000"
              >YOUR_DOCUMENT_ID_HERE</span
            >" data-key="<span style="background: #ffeb3b; color: #000"
              >YOUR_VERIFICATION_KEY_HERE</span
            >"&gt; &lt;/div&gt; &lt;script
            src="https://xertiq-frontend.vercel.app/embed-widget.js"&gt;&lt;/script&gt;
            &lt;!-- Example with real values: &lt;div id="xertiq-verify-widget"
            data-doc="cert_certificate_Jingsthon_Castillo_1_1768806919897_91ygb2d3eu"
            data-key="9683ee2a988bd1519efadd6b0d4792091a64c5ae0a78b4a214274a4a31a21239"&gt;
            &lt;/div&gt; --&gt;</code
          >
        </div>

        <!-- Option 3: Public Document (No Key) -->
        <h3 style="margin-top: 30px; color: #4a48c4; margin-bottom: 15px">
          üåê Option 3: Public Document (No Key Required)
        </h3>
        <p style="color: #666; margin-bottom: 15px; font-size: 0.95rem">
          If your document doesn't require a key, just use the doc ID:
        </p>
        <div class="code-block">
          <button class="copy-btn" onclick="copyCode(this)">Copy</button>
          <code
            >&lt;div id="xertiq-verify-widget" data-doc="<span
              style="background: #ffeb3b; color: #000"
              >YOUR_DOCUMENT_ID_HERE</span
            >"&gt; &lt;/div&gt; &lt;script
            src="https://xertiq-frontend.vercel.app/embed-widget.js"&gt;&lt;/script&gt;</code
          >
        </div>
      </div>

      <!-- Footer -->
      <div
        class="widget-section"
        style="
          text-align: center;
          background: linear-gradient(135deg, #4a48c4, #3d2d7a);
          color: white;
        "
      >
        <h2
          style="
            color: white;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
          "
        >
          <img
            src="./xertiq_logo.png"
            alt="XertiQ"
            style="height: 30px; width: auto"
          />
          Powered by XertiQ
        </h2>
        <p style="opacity: 0.9; margin: 0">
          Blockchain-Secured Document Verification<br />
          Demo hosted on GitHub Pages ‚Ä¢ Widget from Vercel
        </p>
      </div>
    </div>

    <script>
      // CONFIGURATION: Update this with your Vercel deployment URL
      const VERCEL_WIDGET_URL = "https://your-app.vercel.app/xertiq-widget.js";

      // For local testing, you can use localhost:
      // const VERCEL_WIDGET_URL = 'http://localhost:3000/xertiq-widget.js';

      // Load widget from Vercel
      (function () {
        const script = document.createElement("script");
        script.src = VERCEL_WIDGET_URL;
        script.async = true;

        script.onerror = function () {
          document.getElementById("xertiq-verify-widget").innerHTML =
            '<div style="padding: 30px; background: #fff3cd; border: 2px solid #ffc107; border-radius: 12px; color: #856404; text-align: center;">' +
            '<h3 style="margin-bottom: 15px;">‚ö†Ô∏è Widget Script Not Found</h3>' +
            '<p style="margin-bottom: 10px;">Could not load widget from: <code style="background: rgba(0,0,0,0.1); padding: 2px 8px; border-radius: 3px;">' +
            VERCEL_WIDGET_URL +
            "</code></p>" +
            "<p><strong>To fix:</strong></p>" +
            '<ol style="text-align: left; margin: 15px auto; max-width: 500px; line-height: 1.8;">' +
            "<li>Deploy your backend to Vercel</li>" +
            "<li>Update <code>VERCEL_WIDGET_URL</code> in this HTML file</li>" +
            "<li>Refresh this page</li>" +
            "</ol>" +
            '<p style="margin-top: 15px; font-size: 0.9em;">For local testing, use: <code style="background: rgba(0,0,0,0.1); padding: 2px 8px; border-radius: 3px;">http://localhost:3000/xertiq-widget.js</code></p>' +
            "</div>";
        };

        document.body.appendChild(script);
      })();

      // Copy code functionality
      function copyCode(btn) {
        const code = btn.nextElementSibling.textContent;
        navigator.clipboard.writeText(code).then(() => {
          const original = btn.textContent;
          btn.textContent = "‚úì Copied!";
          setTimeout(() => (btn.textContent = original), 2000);
        });
      }
    </script>
  </body>
</html>
